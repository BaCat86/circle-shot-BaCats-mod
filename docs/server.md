# Сервер игры

В этом документе описана структура сервера, с которого загружаются данные для игры, и файлов на нём.

## Определение сервера

Адрес для сервера по умолчанию - `https://diamondstudiogames.github.io/circle-shot` - записан в `Main.SERVER_URL`. Если вы хотите поменять этот адрес, то просто отредактируйте эту константу.

## Файлы на сервере

- `check.txt`: файл, который должен содержать в себе лишь 1 слово: *circleshot*. Используется для проверки подключения к серверу и опознавания, что это именно сервер с данными для Circle Shot.
- `data.cfg`: файл, который игра скачивает при каждом запуске. Содержит самую разную информацию (см. ниже). При успешной загрузке этого файла с сервера доступ к нему можно получить через `Globals.data_file`. Иначе же это свойство будет равно `null` (помните это, прежде чем обращаться к нему!).

## Структура `data.cfg`

Макет файла:
```ini
[versions]

stable="<стабильная версия>"
beta="<бета-версия>"
```

Разберём каждую секцию по отдельности.
- `versions`: содержит всего два значения - `stable` со стабильной версией игры и `beta` с нестабильной. Используется при проверке наличие обновлений.
    - **Внимание**: если стабильная версия выше нестабильной (например, релиз `2.1.0` когда как последняя бета - `2.1.0.22`), то установите значение `beta` *равным* значению `stable`. Это необходимо для правильной проверки обновлений.

TODO: патчи и офферы в магазине
